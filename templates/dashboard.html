{% extends "index.html" %}
{% block content %}

<p>{{ username }}</p>


<div hx-ext="sse" sse-connect="/messages-sse">
    <div id="messages" hx-get="/messages" hx-trigger="sse:update" hx-swap="innerHTML"></div>
</div>

<form hx-post="/messages" hx-target="#messages" hx-swap="beforeend" hx-headers='{"X-CSRF-Token": "{{ token }}"}'>
    <label>Title</label>
    <input type="text" name="title" />
    <label>Content</label>
    <input type="text" name="content" />
    <button type="submit">Send</button>
</form>

<button hx-post="/logout" hx-target="body" hx-swap="outerHTML"
    hx-headers='{"X-CSRF-Token": "{{ token }}"}'>Logout</button>

{% endblock content %}
