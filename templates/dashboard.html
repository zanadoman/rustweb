{% extends "./base/base.html" %}
{% block content %}

<div class="row justify-content-around">
    <div class="col-12 col-lg-5 mb-1 mb-md-4 mb-lg-0 p-5 bg-body-secondary rounded-3 shadow">
        <h2 class="mb-5 fw-bold text-center">NEW MESSAGE</h2>
        <p class="mb-4 text-muted text-center">Please enter a title and content!</p>
        <form hx-post="/messages" hx-swap="none" hx-headers='{"X-CSRF-Token": "{{ token }}"}'>
            <div class="form-floating mb-3" hx-target="this" hx-swap="outerHTML">
                <input id="message0-form-title" class="form-control border-0" type="text" name="title" placeholder="Title" hx-post="/message/0/validate/title" hx-headers='{"X-CSRF-Token": "{{ token }}"}'>
                <label for="message0-form-title">Title</label>
            </div>
            <div class="form-floating mb-3" hx-target="this" hx-swap="outerHTML">
                <textarea id="message0-form-content" class="form-control border-0" name="content" placeholder="Content" hx-post="/message/0/validate/content" hx-headers='{"X-CSRF-Token": "{{ token }}"}'></textarea>
                <label for="message0-form-content">Content</label>
            </div>
            <button class="btn btn-primary w-100 mb-5" type="submit">Send</button>
        </form>
        <p class="text-center">Feel free to expand the content area as needed.</p>
    </div>
    <div id="messages" class="col-12 col-lg-5 mt-1 mt-md-4 mt-lg-0 p-5 bg-body-secondary rounded-3 shadow" hx-get="/messages" hx-trigger="load" hx-swap="innerHTML" sse-connect="/messages/events"></div>
</div>

{% endblock content %}
